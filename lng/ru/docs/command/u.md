**Опция -u (параметры обновления)**

--------------------------------------------------------------------------------

Указывает способ обновления и создания файлов в архиве.

**Синтаксис**

`-u[-]<набор_действий>[!{новое_имя_архива}]`
`<набор_действий> ::= <действие_по_состоянию>...`
`<действие_по_состоянию> ::= <состояние><действие>`
`<состояние> ::= p | q | r | x | y | z | w`
`<действие> ::= 0 | 1 | 2 | 3`

**Справочник**

Дефис (-): не выполнять никаких обновлений исходного архива.

`{новое_имя_архива}`: Указывает путь к новому архиву.

`<состояние>`: `<состояние> ::= p | q | r | x | y | z | w`, каждому имени файла будут присвоены следующие шесть переменных:

| `<состояние>` | Описание                                                                                                | Файл на диске         | Файл в архиве         |
|----------------|--------------------------------------------------------------------------------------------------------|---------------------|---------------------|
| `p`            | Файл находится в архиве, но не соответствует файлу на диске.                                             | Существует, не совпадает | Существует, не совпадает |
| `q`            | Файл находится в архиве, но отсутствует на диске.                                                     | Отсутствует          | Существует          |
| `r`            | Файл отсутствует в архиве, но присутствует на диске.                                                  | Существует          | Отсутствует          |
| `x`            | Файл в архиве новее файла на диске.                                                                      | Старый               | Новый              |
| `y`            | Файл в архиве старее файла на диске.                                                                      | Новый              | Старый               |
| `z`            | Файл в архиве и файл на диске идентичны.                                                                | Одинаковый           | Одинаковый           |
| `w`            | Невозможно определить, новее ли файл (одинаковое время, но разный размер).                                   | ?                    | ?                    |

`<действие>`: Указывает действие для соответствующего `<состояния>`. `<действие> ::= 0 | 1 | 2 | 3`, вы можете указать любую из следующих четырех переменных действия:

| `<действие>` | Описание                                                                                                                                                                                                                                                                           |
|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `0`            | Игнорировать файл (не создавать элемент для этого файла в архиве).                                                                                                                                                                                                                  |
| `1`            | Скопировать файл (перезаписать старый файл новым файлом из архива).                                                                                                                                                                                                                  |
| `2`            | Архивировать файл (заархивировать новый файл с диска в архив).                                                                                                                                                                                                                        |
| `3`            | Создать элемент для исключения (удалить файл или элемент каталога в процессе извлечения). Эта функция поддерживается только для формата 7z.                                                                                                                                   |

Внимание: Любая команда обновления (например, `a` (добавить), `d` (удалить), `u` (обновить)) может быть назначена следующим элементам. В следующей таблице показаны настройки действий для команд обновления:

| Команда \\ `<состояние>` | `p` | `q` | `r` | `x` | `y` | `z` | `w` |
|-----------------------------|-----|-----|-----|-----|-----|-----|-----|
| `d` (удалить)              | `1` | `0` | `0` | `0` | `0` | `0` | `0` |
| `a` (добавить)             | `1` | `1` | `2` | `2` | `2` | `2` | `2` |
| `u` (обновить)             | `1` | `1` | `2` | `1` | `2` | `1` | `2` |

Эта опция может обновлять несколько файлов одновременно. 2345 HaoZip может создавать любое количество новых архивов за одну операцию.

**Пример**

`HaoZipC u c:\1\exist.7z -u- -up0q3x2z0!c:\1\update.7z * -r`: Создать новый архив `update.7z` и записать в него все разные файлы из архива `exist.7z`, находящегося в текущем каталоге. Не изменять содержимое архива `exist.7z`.

**Команды, которые можно использовать с этой опцией:** `a` (добавить), `d` (удалить), `u` (обновить).
